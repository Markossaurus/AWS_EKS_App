pipeline{
    agent any

        parameters {
        booleanParam(name: 'Refresh',
                    defaultValue: false,
                    description: 'Read Jenkinsfile and exit.')
        }

    stages {
        stage('Read Jenkinsfile') {
            when {
                expression { return parameters.Refresh == true }
            }
            steps {
                echo("Ended pipeline early.")        
            }
        }
       
        stage("git"){
            steps{
                echo "cloning repo from Github..."
                git credentialsId: 'edd5b572-22c2-43c1-a50b-991127524391', url: 'git@github.com:Markossaurus/AWS_EKS_App.git'
                }
            }
        
        stage("build"){
            agent {
                dockerfile{
                    dir 'NginxCostum1'
                   filename 'Dockerfile'
                  label 'test'
               }  
            }
            steps{
                echo "building image"
            }
       }
    }
}
  



